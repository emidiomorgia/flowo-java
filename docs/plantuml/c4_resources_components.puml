@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml

Container(resources_svc, "Resources Service", ".NET 7") {
    Component(api, "Resources API Controller", "ASP.NET Core Controller", "Exposes REST endpoints for resources")
    Component(application, "Application Layer", "MediatR Handlers", "Handles commands and queries")
    Component(domain, "Domain Model", "Resource aggregate and entities", "Manages human and material resources")
    Component(repository, "Repository", "EF Core Repository", "Data persistence")
    Component(events, "Event Publisher", "RabbitMQ Publisher", "Publishes domain events")
}

Rel(api, application, "Sends commands/queries")
Rel(application, domain, "Loads and modifies aggregates")
Rel(application, repository, "Reads/Writes data")
Rel(application, events, "Publishes domain events")

@enduml